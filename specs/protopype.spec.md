
# Назначение

Данный файл описывает спецификацию прототипа программы для управления расписанием занятости специалистов по времени и кабинетам. 

Целевое состояние: система должна быть разработанал как клиент-сервреное приложение. Пользовательский интерфейс работает в браузере мобильного телефона используя javascript+css+html. Серверная сторона net core 10. СУБД postgres. Развертывание в linux/docker.
При много пользовательсокй работе изменения в расписании одним пользователей должно синхронизировать изменения у другого пользователя (websocet). Нагрузка на систему мизерная: 10 запросов в час, клиентов до 100, специалистов до 25. одновременных пользователей до 10.

Целевое состояние прототипа: отработать механику работы пользователя в интерфейсе браузера мобильного телефона. Все параметры для работы: клиенты, специалисты и т.д. должна загружаться через json-файл и все изменения хранятся в браузере без серверной части. Смысл - показать в механике как это все будет "тыкаться". Авторизация в прототипе не предпоалается.
Прототип должен быть разработан на javascript, css, html. CSs долежн быть в отденом файле, javasctop тоже. Конфиг должен загрудаться при старте приложения. Объкт с данными сохраняться в локальном хранилище браузера и выдерживать побновление страницы.

 


# Сущности

В системе участвуют следующие сушности:

- Специалист
  - id
  - название
- Клиент
  - id
  - название
- Кабинет
  - id
  - название
- Резерв
  - id
  - ид кабинета
  - ид клиента
  - ид специалиста
  - дата
  - время

начальный список специалистов:
cctime.config.json

```
"cctime.config":{
    "specialists":[
        {            "id":1, "name":"-"},
        {            "id":2,"name":"Спеециалист1"},
        {            "id":3,"name":"Специалист2"}
    ],
    "clients":[
        {        "id": 100,        "name": "-"    },
        {        "id": 101,        "name": "клиент2"    }
    ],
    "rooms":[{"id":"room1","name":"ЛОГО"},{"id":"room2","name":"НЕЙРО"}]

}
```

данные о резервах должны храниться в струткуре
```
{
"cctime.reserves": [
    {id:"ид резерва", date: "", timeInterval:"", roomId: "", clientId: "", clientConfirm: false, specialistId: "", specialistConfirm: false}

]   

}
```


# Пользовательсткий интерфейс

## Основные положения

Интерфейс должен быть адаптирован для работы в браузере телефона и работе пальцами.

## Страницы

## Страница расписания на день

- шапка
- рабочая область
- подвал

### Шапка
сосоит трех частей
- левая, содердит кнопку назад (предыдущий день)
- средняя, пустая
- правую, содержит кнопку вперед (следующий день)

### Рабочая область

состоит из колонок
- колонка времени
- колонка сведения о дне недели + дата в формате {дд.мм.гггг} + {название дня недели}
    - колонка кабинета 1
    - колонка кабинета 2

строками являются временные интервалы (времени и перервыа):
- 8.30-9.15
- 9.15-10.00
- 10.00-10.45
- перерыв 15
- 11.00-11.45
- 11.45-12.30
- 12.30-13.15
- обед
- 13.30-14.15
- 14.15-15.00
- 15.00-15.45
- перерыв 15
- 16.00-16.45
- 16.45-17.30
- 17.30-18.15
- перерыв 15
- 18.30-19.15
- 19.15-20.00

в пересечеии кабинета и интервала времени должно выводится сведения о резерве:
- первая строка, специалист, указанный в резерве
- вторая строка, клиент, указанный в резерве

резервирование для перервыров должно быть недоступно.

Поведение:

- При клике на область резерва должена открываться страница редактивароя (или создания, если нет) резерва.
- При свайпе вверх/вних должна скролиться только рабочая область

## Странциа создания/редактирования резерва

страница редактирвоая резерва может быть выполнена как popup или как самостоятельная страница. Должна быть доступны следующие элементы:
- выбор специлиста (выпадашка)
- количество резервов (цело положительное число) этого специалиста в будущем в данном кабинете в этот день недели, в это время
- галочка "подтверждено" для специалиста
- выбор клиента
- количество резервов (цело положительное число)  этого клиента в будущем в данном кабинете в этот день недели, в это время
- галочка "подтверждено" для клиента

при создании количество резервов должно заполняться в 1 пользователь может это изменить
при редактировании поле количества резервов должно так же заполянться 1.


кнопки управления:
- сохранить
- отменить

поведение:
при *сохранении* должны быть изменены данные о редактиуремом резерве редактируемых параметров. Значение параметра количество резервов должно обрабатываться следующим образом: Указанное число означает, что данный (специалист/клинета) должен быть указан в указанном количестве резервов в будующих неделях (это же время, этот же кабинет). Если в будущих (существующих) подобных резервах специалист/клиент отличается от того который указан в текущем резерве, то выводится предупреждение и не сохраняется (остаться в режиме редактирования). ПОльзователь сам изменит количества резерва на 1 если ему будет нужно сохранить этот резерв. Данное правило относится как к клиенту, так и к специалисту. Параметры подвреждения на будутщие резервы устанавливюатся в false. Параметры подтсвржденя ни когда не тиражируются.

Операции удаления нет. Если пользователью нужно будет очистить будущие резервы, то он выберет специального специалиста или специального клиента, который будут называться "свободно" (будет задано через конфигуратор).

Для резервов в прошлом (ранее текущей даты) редактирование не доступно. Должно быть цветовое выделение блока.
